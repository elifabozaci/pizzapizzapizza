<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Pizza Store</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cormorant', 'Playfair Display', serif;
            margin: 0;
            padding: 20px;
            background-color: #f4efe9;
        }
        h1, h2 {
            text-align: center;
            color: #8b4513;
        }
        form {
            max-width: 500px;
            margin: 0 auto;
            background-color: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .form-step {
            display: none;
        }
        .form-step.active {
            display: block;
        }
        label {
            font-weight: bold;
        }
        input, select, button {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            background-color: #8b4513;
            color: white;
            font-size: 1em;
            cursor: pointer;
        }
        button:hover {
            background-color: #a0522d;
        }
        .output {
            max-width: 800px;
            margin: 20px auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .output h3 {
            color: #8b4513;
        }
        .pizza-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .pizza-item img {
            width: 100px;
            height: 100px;
            border-radius: 8px;
            margin-right: 15px;
        }
    </style>
</head>
<body>
    <h1>Create Your Custom Pizza Store</h1>
    <form id="pizza-form">
        <div class="form-step active" data-step="1">
            <div>
                <label for="store-name">Store Name:</label>
                <input type="text" id="store-name" placeholder="Enter your store's name" required>
            </div>
            <button type="button" onclick="nextStep()">Next</button>
        </div>
        <div class="form-step" data-step="2">
            <div>
                <label for="store-slogan">Store Slogan:</label>
                <input type="text" id="store-slogan" placeholder="Enter your store's slogan" required>
            </div>
            <button type="button" onclick="prevStep()">Back</button>
            <button type="button" onclick="nextStep()">Next</button>
        </div>
        <div class="form-step" data-step="3">
            <div>
                <label for="pizza-count">Number of Pizzas:</label>
                <select id="pizza-count" required>
                    <option value="">Select number of pizzas</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                </select>
            </div>
            <button type="button" onclick="prevStep()">Back</button>
            <button type="button" onclick="nextStep()">Next</button>
        </div>
        <div id="pizza-fields-container"></div>
        <div class="form-step" data-step="100">
            <div>
                <label for="drinks-menu">Drinks Menu:</label>
                <div id="drinks-menu">
                    <label><input type="checkbox" value="Cola, 1.99"> Cola - ₺1.99</label><br>
                    <label><input type="checkbox" value="Lemonade, 2.49"> Lemonade - ₺2.49</label><br>
                    <label><input type="checkbox" value="Water, 0.99"> Water - ₺0.99</label><br>
                    <label><input type="checkbox" value="Iced Tea, 2.29"> Iced Tea - ₺2.29</label><br>
                </div>
            </div>
            <button type="button" onclick="prevStep()">Back</button>
            <button type="submit">Generate Store</button>
        </div>
    </form>

    <div id="output" class="output" style="display:none;">
        <h2 id="output-store-name"></h2>
        <h3 id="output-store-slogan"></h3>
        <div>
            <h3>Pizza Menu:</h3>
            <div id="output-pizza-menu"></div>
        </div>
        <div>
            <h3>Drinks Menu:</h3>
            <ul id="output-drinks-menu"></ul>
        </div>
    </div>

    <script>
        let currentStep = 1;

        function showStep(step) {
            document.querySelectorAll('.form-step').forEach(element => {
                element.classList.remove('active');
                if (parseInt(element.getAttribute('data-step')) === step) {
                    element.classList.add('active');
                }
            });
        }

        function nextStep() {
            currentStep++;
            if (currentStep > 3 && currentStep <= 3 + parseInt(document.getElementById('pizza-count').value)) {
                generatePizzaFields();
            } else {
                showStep(currentStep);
            }
        }

        function prevStep() {
            currentStep--;
            showStep(currentStep);
        }

        function generatePizzaFields() {
            const pizzaCount = parseInt(document.getElementById('pizza-count').value);
            const pizzaFieldsContainer = document.getElementById('pizza-fields-container');
            pizzaFieldsContainer.innerHTML = '';
            for (let i = 1; i <= pizzaCount; i++) {
                const pizzaDiv = document.createElement('div');
                pizzaDiv.classList.add('form-step');
                pizzaDiv.setAttribute('data-step', 3 + i);
                pizzaDiv.innerHTML = `
                    <h3>Pizza ${i}</h3>
                    <div>
                        <label for="pizza-name-${i}">Pizza Name:</label>
                        <input type="text" id="pizza-name-${i}" placeholder="Enter pizza name" required>
                    </div>
                    <div>
                        <label>Ingredients:</label>
                        <div id="pizza-ingredients-${i}">
                            <label><input type="checkbox" value="Tomato, https://example.com/tomato.jpg"> Tomato</label><br>
                            <label><input type="checkbox" value="Cheese, https://example.com/cheese.jpg"> Cheese</label><br>
                            <label><input type="checkbox" value="Pepperoni, https://example.com/pepperoni.jpg"> Pepperoni</label><br>
                            <label><input type="checkbox" value="Basil, https://example.com/basil.jpg"> Basil</label><br>
                        </div>
                    </div>
                    <div>
                        <label for="pizza-price-${i}">Price (₺):</label>
                        <input type="number" id="pizza-price-${i}" placeholder="Enter pizza price" required>
                    </div>
                    <div class="pizza-image-container" id="pizza-image-container-${i}">
                        <h4>Pizza Image:</h4>
                        <img id="pizza-image-${i}" src="" alt="Pizza ${i}" style="display: none;">
                    </div>
                    <button type="button" onclick="prevStep()">Back</button>
                    <button type="button" onclick="nextStep()">Next</button>
                `;
                pizzaFieldsContainer.appendChild(pizzaDiv);

                const ingredientCheckboxes = document.querySelectorAll(`#pizza-ingredients-${i} input[type="checkbox"]`);
                ingredientCheckboxes.forEach((checkbox) => {
                    checkbox.addEventListener('change', function() {
                        const selectedIngredients = Array.from(ingredientCheckboxes)
                            .filter(input => input.checked)
                            .map(input => input.value.split(', ')[1]);
                        const pizzaImage = document.getElementById(`pizza-image-${i}`);
                        if (selectedIngredients.length > 0) {
                            pizzaImage.src = selectedIngredients[0];
                            pizzaImage.style.display = 'block';
                        } else {
                            pizzaImage.style.display = 'none';
                        }
                    });
                });
            }
            showStep(4);
        }

        document.getElementById('pizza-form').addEventListener('submit', function(e) {
            e.preventDefault(); // Prevent form from reloading the page

            // Get user inputs
            const storeName = document.getElementById('store-name').value;
            const storeSlogan = document.getElementById('store-slogan').value;
            const pizzaCount = parseInt(document.getElementById('pizza-count').value);
            const pizzaMenu = [];
            for (let i = 1; i <= pizzaCount; i++) {
                const name = document.getElementById(`pizza-name-${i}`).value;
                const ingredients = Array.from(document.querySelectorAll(`#pizza-ingredients-${i} input[type="checkbox"]`))
                    .filter(input => input.checked)
                    .map(input => input.value.split(', ')[0])
                    .join(', ');
                const price = document.getElementById(`pizza-price-${i}`).value;
                const image = document.getElementById(`pizza-image-${i}`).src;
                pizzaMenu.push({ name, ingredients, price, image });
            }
            const drinksMenu = Array.from(document.querySelectorAll('#drinks-menu input[type="checkbox"]'))
                .filter(input => input.checked)
                .map(input => input.value);

            // Display store name and slogan
            document.getElementById('output-store-name').textContent = storeName;
            document.getElementById('output-store-slogan').textContent = storeSlogan;

            // Display pizza menu
            const pizzaMenuList = document.getElementById('output-pizza-menu');
            pizzaMenuList.innerHTML = ''; // Clear previous content
            pizzaMenu.forEach(pizza => {
                const pizzaItem = document.createElement('div');
                pizzaItem.className = 'pizza-item';
                const img = document.createElement('img');
                img.src = pizza.image || 'https://via.placeholder.com/100'; // Fallback image
                img.alt = pizza.name || 'Pizza';
                const text = document.createElement('div');
                text.innerHTML = `<strong>${pizza.name}</strong><br>${pizza.ingredients}<br><em>₺${pizza.price}</em>`;
                pizzaItem.appendChild(img);
                pizzaItem.appendChild(text);
                pizzaMenuList.appendChild(pizzaItem);
            });

            // Display drinks menu
            const drinksMenuList = document.getElementById('output-drinks-menu');
            drinksMenuList.innerHTML = ''; // Clear previous content
            drinksMenu.forEach(drink => {
                const li = document.createElement('li');
                li.textContent = drink.replace(',', ' - ₺');
                drinksMenuList.appendChild(li);
            });

            // Show the output section
            document.getElementById('output').style.display = 'block';
        });
    </script>
</body>
</html>
